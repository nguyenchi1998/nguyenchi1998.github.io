{"version":3,"sources":["services/product.js","helpers/index.jsx","containers/HomePage/style.js","containers/HomePage/ProductDetail.jsx","containers/HomePage/index.jsx"],"names":["fetchProduct","key","page","a","request","get","data","showDetailProduct","id","usePushParamsToUrl","history","useHistory","params","path","push","pathname","search","queryString","stringify","useStyles","makeStyles","theme","root","flexGrow","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","footer","menuButton","title","position","borderRadius","shape","fade","common","white","marginLeft","width","breakpoints","up","searchIcon","pointerEvents","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","paginate","Product","detail","listLike","JSON","parse","React","useState","find","likeProduct","selected","setSelected","classes","dispatch","useDispatch","pushParamsToUrl","Grid","item","xs","sm","md","Card","className","CardActionArea","onClick","handleShowProduct","CardMedia","image","CardContent","Typography","gutterBottom","variant","component","style","minHeight","name","noWrap","description","CardActions","IconButton","button","filter","set","aria-label","changeProductToCart","number","HomePage","location","useLocation","pageCurrent","setPageCurrent","useQuery","productAPI","isLoading","container","direction","justify","top","left","bottom","right","zIndex","LoadingIndicator","map","Box","alignContent","Pagination","count","totalPage","parseInt","onChange","e","newPage"],"mappings":"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","file":"static/js/10.e35e1278.chunk.js","sourcesContent":["import { request, } from 'utils/request';\n\nconst fetchProduct = async (key, page) => {\n    const { data } = await request().get(`/all/${page}`);\n\n    return data;\n};\n\nconst showDetailProduct = async (key, id) => {\n    const { data } = await request().get(`/product/${id}`);\n\n    return data;\n};\n\n\nexport default {\n    fetchProduct, showDetailProduct\n}","import queryString from 'query-string';\nimport { useHistory } from 'react-router-dom';\n\nexport const usePushParamsToUrl = () => {\n  const history = useHistory();\n\n  const func = (params, path) => {\n    history.push({\n      ...(path && { pathname: path }),\n      search: queryString.stringify(params),\n    });\n  };\n\n  return func;\n};\n","import { fade, makeStyles } from \"@material-ui/core\";\n\nexport const useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n    },\n    icon: {\n        marginRight: theme.spacing(2),\n    },\n    heroContent: {\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(8, 0, 6),\n    },\n    heroButtons: {\n        marginTop: theme.spacing(4),\n    },\n    cardGrid: {\n        paddingTop: theme.spacing(8),\n        paddingBottom: theme.spacing(8),\n    },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    cardMedia: {\n        paddingTop: '56.25%', // 16:9\n    },\n    cardContent: {\n        flexGrow: 1,\n    },\n    footer: {\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(6),\n    },\n\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginRight: theme.spacing(2),\n        marginLeft: 0,\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(3),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('md')]: {\n            width: '20ch',\n        },\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('md')]: {\n            display: 'flex',\n        },\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('md')]: {\n            display: 'none',\n        },\n    },\n    paginate: {\n        width: '100%',\n        '& > *': {\n            marginTop: theme.spacing(2),\n        },\n    },\n}));","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\nimport { Card, CardActionArea, IconButton } from '@material-ui/core';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport FavoriteOutlinedIcon from '@material-ui/icons/FavoriteOutlined';\nimport { useDispatch } from 'react-redux';\nimport { changeProductToCart } from 'store/slices/cart';\nimport { get, set } from 'utils/storage';\nimport { usePushParamsToUrl } from 'helpers';\nimport { useStyles } from './style';\n\nconst Product = ({ detail }) => {\n  let listLike = JSON.parse(get('likes')) || [];\n  const [selected, setSelected] = React.useState(\n    !!listLike.find((likeProduct) => likeProduct.id === detail.id),\n  );\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const pushParamsToUrl = usePushParamsToUrl();\n\n  const handleLike = () => {\n    setSelected(!selected);\n    if (selected) {\n      listLike = listLike.filter((likeProduct) => likeProduct.id !== detail.id);\n    } else {\n      listLike.push(detail);\n    }\n    set('likes', JSON.stringify(listLike));\n  };\n\n  const handleShowProduct = ({ id }) => {\n    pushParamsToUrl({ id }, '/product');\n  };\n\n  const handleBuy = () => {\n    dispatch(changeProductToCart({ ...detail, number: 1 }));\n  };\n\n  return (\n    <Grid key={detail.id} item xs={12} sm={3} md={3}>\n      <Card className={classes.card}>\n        <CardActionArea onClick={() => handleShowProduct(detail)}>\n          <CardMedia\n            className={classes.cardMedia}\n            image={detail.image}\n            title=\"Image title\"\n          />\n          <CardContent className={classes.cardContent}>\n            <Typography\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n              style={{ minHeight: 20 }}\n            >\n              {detail && detail.name}\n            </Typography>\n            <Typography noWrap> {detail && detail.description}</Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardActions style={{ justifyContent: 'flex-end' }}>\n          <IconButton\n            color={selected ? 'secondary' : 'primary'}\n            className={classes.button}\n            onClick={() => handleLike()}\n          >\n            <FavoriteOutlinedIcon />\n          </IconButton>\n          <IconButton\n            color=\"secondary\"\n            aria-label=\"add to shopping cart\"\n            className={classes.button}\n            onClick={handleBuy}\n          >\n            <ShoppingBasketIcon />\n          </IconButton>\n        </CardActions>\n      </Card>\n    </Grid>\n  );\n};\n\nexport default Product;\n","import React, { useState } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport { Box } from '@material-ui/core';\nimport { useLocation } from 'react-router-dom';\nimport queryString from 'query-string';\nimport { Pagination } from '@material-ui/lab';\nimport productAPI from 'services/product';\nimport { usePushParamsToUrl } from 'helpers';\nimport LoadingIndicator from 'components/LoadingIndicator';\nimport { useQuery } from 'react-query';\nimport Product from './ProductDetail';\n\nconst HomePage = () => {\n  const location = useLocation();\n\n  const { page } = queryString.parse(location.search);\n\n  const [pageCurrent, setPageCurrent] = useState(page || 0);\n\n  const pushParamsToUrl = usePushParamsToUrl();\n\n  const changePage = (e, newPage) => {\n    pushParamsToUrl({ page: newPage });\n    setPageCurrent(newPage);\n  };\n\n  const { data, isLoading } = useQuery(\n    ['fetchProduct', pageCurrent],\n    productAPI.fetchProduct,\n  );\n\n  if (isLoading) {\n    return (\n      <Grid\n        container\n        spacing={0}\n        direction=\"column\"\n        alignItems=\"center\"\n        justify=\"center\"\n        style={{\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          bottom: 0,\n          right: 0,\n          zIndex: 10,\n        }}\n      >\n        <Grid item>\n          <LoadingIndicator />\n        </Grid>\n      </Grid>\n    );\n  }\n\n  return (\n    <Grid container spacing={4}>\n      {data.data.map((detail) => (\n        <Product key={detail.id} detail={detail} />\n      ))}\n      <Box\n        marginTop={5}\n        display=\"flex\"\n        alignContent=\"center\"\n        justifyContent=\"center\"\n        style={{ width: '100%' }}\n      >\n        <Box>\n          <Pagination\n            count={data.totalPage - 1}\n            variant=\"outlined\"\n            color=\"primary\"\n            page={parseInt(pageCurrent === 0 ? 1 : pageCurrent, 10)}\n            onChange={changePage}\n          />\n        </Box>\n      </Box>\n    </Grid>\n  );\n};\nexport default HomePage;\n"],"sourceRoot":""}